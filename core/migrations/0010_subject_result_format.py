# Generated by Django 6.0.2 on 2026-02-23 06:09

from django.db import migrations, models


def set_existing_subject_formats(apps, schema_editor):
    Subject = apps.get_model("core", "Subject")
    Subject.objects.filter(name__iexact="ES").update(result_format="T4_ONLY")
    Subject.objects.exclude(name__iexact="ES").update(result_format="FULL")


def noop_reverse(apps, schema_editor):
    pass


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0009_mentor_full_name'),
    ]

    operations = [
        migrations.AddField(
            model_name='subject',
            name='result_format',
            field=models.CharField(choices=[('FULL', 'T1/T2/T3/T4'), ('T4_ONLY', 'Only T4')], default='FULL', max_length=20),
        ),
        migrations.RunPython(set_existing_subject_formats, noop_reverse),
    ]
